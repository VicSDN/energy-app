(function(){"use strict";var e={2980:function(e,t,i){var n=i(5130),a=i(6768);function s(e,t,i,n,s,o){const r=(0,a.g2)("SetupWizard"),l=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)(a.FK,null,[s.showSetup?((0,a.uX)(),(0,a.Wv)(r,{key:0,onSetupComplete:o.onSetupComplete},null,8,["onSetupComplete"])):(0,a.Q3)("",!0),s.showSetup?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(l,{key:1}))],64)}var o=i(4232);const r={key:0,class:"setup-wizard"},l={class:"wizard-content"},c={class:"progress-bar"},d={key:0,class:"step"},u={key:0,class:"install-section"},p=["disabled"],h={key:0},g={key:1},m={key:1,class:"manual-install"},f={key:0,class:"instructions"},v={key:1,class:"instructions"},b={key:2,class:"desktop-install"},k={key:3,class:"skip-option"},E={key:1,class:"step"},y={class:"notification-section"},w=["disabled"],C={key:0},S={key:1},L={key:0,class:"error-message"},I={key:2,class:"step completion"},P={class:"summary"},A={class:"summary-item"},M={class:"navigation"},W={class:"step-indicator"};function T(e,t,i,n,s,T){return s.showWizard?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",l,[t[20]||(t[20]=(0,a.Lk)("div",{class:"header"},[(0,a.Lk)("div",{class:"logo"},[(0,a.Lk)("img",{src:"/img/ModernIcon.svg",alt:"Energy Club"})]),(0,a.Lk)("h1",null,"üéâ ¬°Bienvenido a Energy Club!"),(0,a.Lk)("p",{class:"subtitle"},"Configura tu experiencia perfecta en 2 pasos")],-1)),(0,a.Lk)("div",c,[(0,a.Lk)("div",{class:"progress",style:(0,o.Tr)({width:T.progressPercentage+"%"})},null,4)]),1===s.currentStep?((0,a.uX)(),(0,a.CE)("div",d,[t[10]||(t[10]=(0,a.Lk)("h2",null,"üì± Instalar la App",-1)),t[11]||(t[11]=(0,a.Lk)("p",null,"Para la mejor experiencia, instala Energy Club en tu dispositivo:",-1)),s.canInstallPWA?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>T.installPWA&&T.installPWA(...e)),class:"btn-primary",disabled:s.installing},[s.installing?((0,a.uX)(),(0,a.CE)("span",h,"‚è≥ Instalando...")):((0,a.uX)(),(0,a.CE)("span",g,"‚¨áÔ∏è Instalar Energy Club"))],8,p)])):s.isMobile?((0,a.uX)(),(0,a.CE)("div",m,[t[8]||(t[8]=(0,a.Lk)("h3",null,"üìñ Instalaci√≥n Manual:",-1)),s.isIOS?((0,a.uX)(),(0,a.CE)("div",f,t[6]||(t[6]=[(0,a.Lk)("p",null,[(0,a.eW)("1. Toca el bot√≥n "),(0,a.Lk)("strong",null,"Compartir"),(0,a.eW)(" üîó")],-1),(0,a.Lk)("p",null,[(0,a.eW)("2. Selecciona "),(0,a.Lk)("strong",null,'"A√±adir a pantalla inicio"')],-1),(0,a.Lk)("p",null,[(0,a.eW)("3. Confirma tocando "),(0,a.Lk)("strong",null,'"A√±adir"')],-1)]))):((0,a.uX)(),(0,a.CE)("div",v,t[7]||(t[7]=[(0,a.Lk)("p",null,[(0,a.eW)("1. Toca el men√∫ "),(0,a.Lk)("strong",null,"‚ãÆ"),(0,a.eW)(" (tres puntos)")],-1),(0,a.Lk)("p",null,[(0,a.eW)("2. Selecciona "),(0,a.Lk)("strong",null,'"Instalar app"')],-1),(0,a.Lk)("p",null,"3. Confirma la instalaci√≥n",-1)])))])):((0,a.uX)(),(0,a.CE)("div",b,[t[9]||(t[9]=(0,a.Lk)("p",null," ‚úÖ En escritorio, puedes usar la app directamente en el navegador. ",-1)),(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>T.skipInstall&&T.skipInstall(...e)),class:"btn-secondary"}," ‚û°Ô∏è Continuar sin instalar ")])),s.isMobile?((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>T.skipInstall&&T.skipInstall(...e)),class:"btn-text"}," Continuar sin instalar (no recomendado) ")])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0),2===s.currentStep?((0,a.uX)(),(0,a.CE)("div",E,[t[12]||(t[12]=(0,a.Fv)('<h2 data-v-81da434c>üîî Activar Notificaciones</h2><p data-v-81da434c><strong data-v-81da434c>¬°Obligatorio!</strong> Necesitas recibir notificaciones para: </p><div class="features-list" data-v-81da434c><div class="feature" data-v-81da434c>üéâ Eventos exclusivos</div><div class="feature" data-v-81da434c>üí∞ Ofertas especiales</div><div class="feature" data-v-81da434c>üéµ Nuevas canciones</div><div class="feature" data-v-81da434c>üì£ Anuncios importantes</div></div>',3)),(0,a.Lk)("div",y,[(0,a.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>T.requestNotifications&&T.requestNotifications(...e)),class:"btn-primary",disabled:s.requestingNotifications},[s.requestingNotifications?((0,a.uX)(),(0,a.CE)("span",C,"‚è≥ Configurando...")):((0,a.uX)(),(0,a.CE)("span",S,"üîî Permitir Notificaciones"))],8,w),s.notificationError?((0,a.uX)(),(0,a.CE)("div",L,[(0,a.eW)(" ‚ö†Ô∏è "+(0,o.v_)(s.notificationError)+" ",1),(0,a.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>T.requestNotifications&&T.requestNotifications(...e)),class:"btn-retry"}," üîÑ Reintentar ")])):(0,a.Q3)("",!0)]),t[13]||(t[13]=(0,a.Lk)("div",{class:"warning-box"},[(0,a.Lk)("p",null,[(0,a.eW)("‚ö†Ô∏è "),(0,a.Lk)("strong",null,"Sin notificaciones no podr√°s continuar.")]),(0,a.Lk)("p",null,"Son necesarias para el funcionamiento de la app.")],-1))])):(0,a.Q3)("",!0),3===s.currentStep?((0,a.uX)(),(0,a.CE)("div",I,[t[17]||(t[17]=(0,a.Lk)("div",{class:"success-icon"},"‚úÖ",-1)),t[18]||(t[18]=(0,a.Lk)("h2",null,"¬°Todo Listo!",-1)),t[19]||(t[19]=(0,a.Lk)("p",null,"Energy Club est√° configurado y listo para usar.",-1)),(0,a.Lk)("div",P,[(0,a.Lk)("div",A,[t[14]||(t[14]=(0,a.Lk)("span",{class:"icon"},"üì±",-1)),(0,a.Lk)("span",null,"App "+(0,o.v_)(s.isInstalled?"instalada":"lista"),1)]),t[15]||(t[15]=(0,a.Lk)("div",{class:"summary-item"},[(0,a.Lk)("span",{class:"icon"},"üîî"),(0,a.Lk)("span",null,"Notificaciones activadas")],-1)),t[16]||(t[16]=(0,a.Lk)("div",{class:"summary-item"},[(0,a.Lk)("span",{class:"icon"},"üì±"),(0,a.Lk)("span",null,"Token FCM guardado")],-1))]),(0,a.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>T.completeSetup&&T.completeSetup(...e)),class:"btn-primary btn-large"}," üöÄ Ir a Energy Club ")])):(0,a.Q3)("",!0),(0,a.Lk)("div",M,[(0,a.Lk)("div",W,(0,o.v_)(s.currentStep)+" de "+(0,o.v_)(s.totalSteps),1)])])])):(0,a.Q3)("",!0)}var N=i(4338),z={name:"SetupWizard",data(){return{showWizard:!0,currentStep:1,totalSteps:3,canInstallPWA:!1,installPrompt:null,installing:!1,isInstalled:!1,isMobile:!1,isIOS:!1,requestingNotifications:!1,notificationError:null,notificationsEnabled:!1}},computed:{progressPercentage(){return this.currentStep/this.totalSteps*100}},mounted(){this.checkIfSetupNeeded(),this.detectDevice(),this.setupPWAListeners(),this.checkPWAInstalled(),this.handleInitialFlow()},methods:{checkIfSetupNeeded(){const e=localStorage.getItem("setup-complete"),t=N["default"].isSetupComplete();if("true"===e&&t)return this.showWizard=!1,void this.$emit("setup-complete");localStorage.removeItem("setup-complete")},detectDevice(){const e=navigator.userAgent.toLowerCase();this.isMobile=/android|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(e),this.isIOS=/iphone|ipad|ipod/.test(e)&&!window.MSStream},setupPWAListeners(){window.addEventListener("beforeinstallprompt",e=>{console.log("üì¶ PWA install prompt detected!"),e.preventDefault(),this.installPrompt=e,this.canInstallPWA=!0}),window.addEventListener("appinstalled",()=>{console.log("‚úÖ PWA installed successfully!"),this.isInstalled=!0,this.canInstallPWA=!1,this.installPrompt=null,this.nextStep()})},checkPWAInstalled(){this.isInstalled=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone},async installPWA(){if(this.installPrompt){this.installing=!0;try{this.installPrompt.prompt();const e=await this.installPrompt.userChoice;"accepted"===e.outcome?(this.isInstalled=!0,this.nextStep()):this.skipInstall()}catch(e){console.error("Error during PWA installation:",e),this.skipInstall()}finally{this.installing=!1,this.installPrompt=null}}},skipInstall(){this.isMobile||(this.isInstalled=!0),this.nextStep()},async requestNotifications(){if(!this.requestingNotifications){this.requestingNotifications=!0,this.notificationError=null;try{console.log("üîî Solicitando permisos de notificaci√≥n...");const e=await N["default"].requestPermission();e.success?(this.notificationsEnabled=!0,console.log("‚úÖ Notificaciones configuradas"),console.log("üì± Token FCM:",e.token),setTimeout(()=>{this.nextStep()},1500)):(this.notificationError=e.error||"Error al configurar notificaciones",console.error("‚ùå Error:",e))}catch(e){this.notificationError="Error inesperado. Int√©ntalo de nuevo.",console.error("‚ùå Error inesperado:",e)}finally{this.requestingNotifications=!1}}},nextStep(){this.currentStep<this.totalSteps&&this.currentStep++},handleInitialFlow(){console.log("üîç Setup Wizard Debug Info:"),console.log("  - isMobile:",this.isMobile),console.log("  - canInstallPWA:",this.canInstallPWA),console.log("  - isInstalled:",this.isInstalled),console.log("  - currentStep:",this.currentStep),this.isMobile||(console.log("üñ•Ô∏è Desktop detected, waiting for PWA prompt or auto-advancing..."),setTimeout(()=>{this.canInstallPWA||this.isInstalled||(console.log("‚è≠Ô∏è No PWA prompt available, treating as installed and advancing..."),this.isInstalled=!0,this.nextStep())},2e3))},completeSetup(){localStorage.setItem("setup-complete","true"),this.showWizard=!1,this.$emit("setup-complete"),setTimeout(()=>{this.notificationsEnabled&&N["default"].showWelcomeNotification()},2e3)}}},_=i(1241);const O=(0,_.A)(z,[["render",T],["__scopeId","data-v-81da434c"]]);var R=O,x={name:"App",components:{SetupWizard:R},data(){return{showSetup:!0}},methods:{onSetupComplete(){this.showSetup=!1}},async mounted(){const e=await Promise.resolve().then(i.bind(i,4338)).then(e=>e.default),t=localStorage.getItem("setup-complete"),n=e.isSetupComplete();"true"===t&&n?this.showSetup=!1:localStorage.removeItem("setup-complete")}};const G=(0,_.A)(x,[["render",s]]);var F=G,H=i(1387);const q={class:"landing-container"},D={class:"logo-section"},X={class:"cta-section"},Q={class:"actions"},B={key:0,class:"requirement-message"},V={class:"requirements-list"},$={class:"req-icon"},j={class:"req-icon"},U={key:1,class:"status-message"};function Z(e,t,i,n,s,r){const l=(0,a.g2)("ThreeDLogo");return(0,a.uX)(),(0,a.CE)("div",q,[(0,a.Lk)("div",D,[(0,a.bF)(l)]),(0,a.Lk)("div",X,[t[9]||(t[9]=(0,a.Lk)("div",{class:"taglines-wrapper"},[(0,a.Lk)("p",{class:"tagline main-tagline"}," Tu cuerpo lo pide. Tu noche lo merece. "),(0,a.Lk)("p",{class:"tagline secondary-tagline"},"Lib√©rate")],-1)),(0,a.Lk)("div",Q,[r.shouldShowInstallButton?((0,a.uX)(),(0,a.CE)("button",{key:0,type:"button",onClick:t[0]||(t[0]=(...e)=>r.promptPWAInstall&&r.promptPWAInstall(...e)),class:"btn btn-primary btn-install pulse-animation","aria-label":"Anclar aplicaci√≥n al inicio"},t[3]||(t[3]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20"},[(0,a.Lk)("path",{d:"M12 15.0006L7.75732 10.758L9.17154 9.34375L11 11.1722V4H13V11.1722L14.8284 9.34375L16.2426 10.758L12 15.0006ZM18.364 17.3645C17.6536 18.0749 16.8048 18.6384 15.8647 19.0125C14.9246 19.3866 13.9114 19.5634 12.8647 19.5271C10.2913 19.4283 8.00696 18.0267 6.56686 15.7537C5.12676 13.4807 5.06019 10.7047 6.38671 8.35824C7.71322 6.01179 10.0577 4.57176 12.6311 4.57176C13.6195 4.57176 14.581 4.75053 15.4627 5.09337C16.3445 5.43621 17.1294 5.93451 17.7782 6.55901L19.1924 5.1448C18.2215 4.17385 17.0628 3.41196 15.7904 2.92398C14.5181 2.436 13.1609 2.23596 11.8056 2.34009C8.35417 2.62937 5.38575 4.70775 3.70095 7.80503C2.01614 10.9023 2.0463 14.5711 3.79155 17.6366C5.5368 20.7022 8.58077 22.6953 12.1353 22.9271C12.4819 22.9502 12.8291 22.9618 13.1768 22.9618C14.9142 22.9618 16.5801 22.4247 18.0076 21.4328L19.4218 22.847L18.364 17.3645Z"})],-1),(0,a.eW)(" üì± Instalar Energy Club ")]))):(0,a.Q3)("",!0),r.shouldShowNotifyButton?((0,a.uX)(),(0,a.CE)("button",{key:1,type:"button",onClick:t[1]||(t[1]=(...e)=>r.enableNotifications&&r.enableNotifications(...e)),class:"btn btn-secondary btn-notify pulse-animation","aria-label":"Activar notificaciones"},t[4]||(t[4]=[(0,a.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"20",height:"20"},[(0,a.Lk)("path",{d:"M18 16.5V11.5C18 7.47715 16.0697 4.16333 12.75 3.25995V3C12.75 2.30964 12.1904 1.75 11.5 1.75C10.8096 1.75 10.25 2.30964 10.25 3V3.25995C6.93025 4.16333 5 7.47715 5 11.5V16.5L3 18.5V19.5H20V18.5L18 16.5ZM19.5 9.5C19.5 10.0523 19.0523 10.5 18.5 10.5C17.9477 10.5 17.5 10.0523 17.5 9.5C17.5 8.94772 17.9477 8.5 18.5 8.5C19.0523 8.5 19.5 8.94772 19.5 9.5ZM21.5 12.5C21.5 13.0523 21.0523 13.5 20.5 13.5C19.9477 13.5 19.5 13.0523 19.5 12.5C19.5 11.9477 19.9477 11.5 20.5 11.5C21.0523 11.5 21.5 11.9477 21.5 12.5ZM11.5 21.5C12.6046 21.5 13.5 20.6046 13.5 19.5H9.5C9.5 20.6046 10.3954 21.5 11.5 21.5Z"})],-1),(0,a.eW)(" üîî Activar Notificaciones ")]))):(0,a.Q3)("",!0),r.shouldShowEnterButton?((0,a.uX)(),(0,a.CE)("button",{key:2,type:"button",onClick:t[2]||(t[2]=(...e)=>r.goToApp&&r.goToApp(...e)),class:"btn btn-primary btn-enter success-glow","aria-label":"Entrar a la aplicaci√≥n"}," ‚ú® Entrar a Energy Club ‚ú® ")):(0,a.Q3)("",!0)]),r.canAccessApp?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",B,[t[7]||(t[7]=(0,a.Lk)("h3",null,"üîí Acceso Restringido",-1)),t[8]||(t[8]=(0,a.Lk)("p",null,"Para acceder a Energy Club necesitas:",-1)),(0,a.Lk)("div",V,[(0,a.Lk)("div",{class:(0,o.C4)(["requirement",{completed:s.isPWAInstalled}])},[(0,a.Lk)("span",$,(0,o.v_)(s.isPWAInstalled?"‚úì":"üì±"),1),t[5]||(t[5]=(0,a.eW)(" Instalar la aplicaci√≥n "))],2),(0,a.Lk)("div",{class:(0,o.C4)(["requirement",{completed:s.notificationsEnabled}])},[(0,a.Lk)("span",j,(0,o.v_)(s.notificationsEnabled?"‚úì":"üîî"),1),t[6]||(t[6]=(0,a.eW)(" Activar las notificaciones "))],2)])])),s.pwaMessage?((0,a.uX)(),(0,a.CE)("p",U,(0,o.v_)(s.pwaMessage),1)):(0,a.Q3)("",!0)])])}i(4114);const K={ref:"container",class:"three-logo-container"};function Y(e,t,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",K,null,512)}i(8111),i(7588);var J=i(144),ee={name:"ThreeDLogo",data(){return{camera:null,scene:null,renderer:null,logoGroup:null,animationFrameId:null,baseCameraZ:200,svgMarkup:'\n        <svg version="1.0" xmlns="http://www.w3.org/2000/svg"\n          width="300.000000pt" height="136.000000pt" viewBox="0 0 300.000000 136.000000"\n          preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0.000000,136.000000) scale(0.100000,-0.100000)"\n          fill="#000000" stroke="none">\n        <path d="M723 1156 c-60 -27 -90 -131 -74 -252 6 -39 13 -78 16 -86 5 -12 -9 -19 -62 -32 -95 -24 -188 -71 -217 -109 -20 -26 -24 -44 -24 -94 0 -74 15 -93 74 -92 21 1 73 -11 115 -26 l76 -27 -14 -51 c-17 -67 -17 -209 1 -250 51 -120 181 -106 330 36 33 31 61 57 62 57 1 0 0 -8 -3 -19 -5 -21 31 -53 53 -44 7 2 28 -7 46 -20 44 -34 125 -73 166 -81 85 -15 141 53 142 172 0 52 -3 62 -17 62 -15 0 -18 -10 -19 -58 -1 -100 -29 -142 -94 -142 -59 0 -190 76 -190 110 0 23 -20 40 -49 40 l-24 0 23 25 c22 24 22 25 4 25 -11 0 -25 -5 -31 -11 -8 -8 -13 -8 -17 0 -4 6 -19 11 -34 11 l-26 0 22 -16 c12 -8 22 -21 22 -29 0 -19 -126 -124 -175 -146 -79 -36 -140 -19 -165 47 -14 35 -12 148 2 218 l11 58 39 -6 c21 -3 56 -9 78 -12 32 -5 40 -3 40 8 0 11 -16 17 -52 22 -105 14 -100 7 -66 93 16 42 31 80 34 85 3 5 19 -18 34 -50 15 -33 33 -63 39 -66 21 -13 11 33 -20 97 l-32 64 39 65 39 66 80 4 c44 2 126 2 183 0 100 -4 103 -5 119 -33 21 -36 78 -42 88 -10 6 19 7 19 73 0 37 -10 83 -19 102 -19 l35 1 -35 15 c-19 8 -63 22 -98 31 -57 14 -63 18 -58 37 38 135 28 256 -25 301 -53 44 -156 24 -252 -50 l-34 -25 -23 26 c-31 32 -134 82 -185 89 -24 3 -53 0 -72 -9z m155 -50 c26 -14 61 -35 79 -49 l32 -24 -32 -31 c-20 -20 -43 -32 -60 -32 -31 0 -58 -34 -55 -71 1 -13 -6 -36 -15 -50 -14 -21 -28 -28 -69 -32 -29 -4 -54 -5 -56 -3 -10 11 -22 88 -22 149 0 71 19 133 47 155 27 20 99 14 151 -12z m387 -8 c36 -32 47 -90 35 -180 -14 -100 -18 -108 -45 -108 -28 0 -49 18 -112 100 -28 36 -63 76 -77 89 -14 14 -26 28 -26 33 0 12 73 58 117 74 54 19 78 17 108 -8z m-214 -125 c39 -42 119 -139 119 -144 0 -2 -72 -4 -160 -4 -88 0 -160 2 -160 5 1 16 19 26 49 26 45 -1 79 40 61 74 -10 19 -8 26 16 51 15 16 30 29 34 29 3 0 22 -17 41 -37z m-271 -187 c0 -2 -11 -23 -24 -46 l-24 -42 -12 37 c-10 31 -10 39 1 46 14 9 59 13 59 5z m490 -10 c0 -24 -18 -28 -30 -6 -9 17 -8 20 10 20 11 0 20 -6 20 -14z m-586 -181 c-18 -39 -36 -83 -39 -98 -9 -32 -17 -32 -117 5 -52 18 -58 23 -58 49 0 30 -23 49 -60 49 -17 0 -20 4 -15 23 17 55 89 100 220 137 l60 17 20 -56 21 -56 -32 -70z"/>\n        <path d="M820 680 l0 -45 122 3 123 3 0 39 0 39 -123 3 -122 3 0 -45z"/>\n        <path d="M1709 725 c0 0 -1 -19 -2 -42 l-2 -42 80 -3 c78 -3 80 -4 80 -28 0 -24 -2 -25 -80 -28 l-80 -3 1 -42 1 -42 67 3 c87 5 96 -3 96 -84 l0 -64 50 0 50 0 0 64 c0 53 -4 69 -24 93 l-24 28 24 28 c28 32 29 45 11 90 -23 53 -41 62 -149 67 -54 3 -98 5 -99 5z m201 -74 c5 -11 10 -28 9 -38 0 -14 -2 -15 -6 -3 -3 8 -15 25 -26 38 -17 19 -18 22 -4 22 9 0 21 -9 27 -19z"/>\n        <path d="M2210 721 c-97 -7 -133 -26 -172 -89 -34 -55 -32 -144 4 -199 34 -51 97 -83 164 -83 89 0 94 4 94 71 l0 59 -32 -20 c-48 -29 -94 -26 -129 9 -41 42 -41 98 2 140 28 28 36 31 95 31 l64 0 0 45 c0 25 -1 44 -2 43 -2 0 -41 -4 -88 -7z m-124 -113 c-25 -35 -21 -108 9 -148 14 -19 31 -37 37 -42 7 -4 9 -8 3 -8 -36 1 -75 65 -75 123 0 45 25 115 37 104 3 -3 -2 -16 -11 -29z"/>\n        <path d="M2340 648 c0 -72 2 -80 30 -112 54 -61 146 -72 212 -25 43 31 58 69 58 146 l0 68 -50 -3 -50 -4 0 -57 c0 -64 -11 -81 -51 -81 -43 0 -59 24 -59 88 l0 57 -45 0 -45 0 0 -77z m91 -84 c18 -19 27 -34 20 -34 -7 0 -26 13 -42 29 -23 23 -29 38 -28 68 l1 38 8 -33 c4 -19 23 -49 41 -68z m159 36 c0 -21 -33 -60 -51 -60 -6 0 1 14 15 31 14 17 26 35 26 40 0 5 2 9 5 9 3 0 5 -9 5 -20z"/>\n        <path d="M1090 535 l0 -185 55 0 55 0 0 141 0 140 43 -3 42 -3 3 -137 3 -138 49 0 50 0 0 156 0 156 -29 29 c-29 29 -30 29 -150 29 l-121 0 0 -185z m91 116 c-18 -25 -21 -44 -21 -124 0 -99 -6 -131 -21 -121 -10 6 -12 257 -2 267 3 4 19 7 35 7 l29 0 -20 -29z m149 9 c18 -18 20 -33 20 -135 0 -70 -4 -115 -10 -115 -6 0 -10 41 -10 103 0 95 -2 104 -25 129 -14 15 -25 30 -25 33 0 13 32 3 50 -15z"/>\n        <path d="M1430 680 l0 -40 120 0 120 0 0 40 0 40 -120 0 -120 0 0 -40z"/>\n        <path d="M820 465 l0 -115 123 0 122 0 0 45 0 45 -77 0 -78 0 0 31 0 31 76 -3 77 -4 1 43 1 42 -122 0 -123 0 0 -115z m80 68 c0 -5 -9 -19 -20 -33 l-20 -25 0 26 c0 14 3 29 7 32 9 9 33 9 33 0z m10 -135 c0 -5 -10 -8 -22 -6 -17 2 -24 11 -26 33 l-4 30 26 -24 c14 -14 26 -29 26 -33z"/>\n        <path d="M1430 465 l0 -115 120 0 120 0 0 45 0 45 -78 0 -79 0 5 31 5 32 73 -7 74 -6 0 45 0 45 -120 0 -120 0 0 -115z m72 -42 c24 -22 23 -35 -4 -31 -15 2 -24 11 -26 26 -4 26 5 28 30 5z"/>\n        <path d="M2190 536 l0 -44 55 2 55 1 0 43 0 42 -55 0 -55 0 0 -44z"/>\n        <path d="M2395 395 l0 -45 90 0 90 0 0 45 0 45 -90 0 -90 0 0 -45z"/>\n        </g>\n        </svg>\n      '}},mounted(){this.$nextTick(async()=>{const[{Scene:e,PerspectiveCamera:t,WebGLRenderer:n,AmbientLight:a,DirectionalLight:s,Group:o,MeshStandardMaterial:r,Box3:l,Vector3:c},{SVGLoader:d}]=await Promise.all([Promise.all([i.e(233),i.e(504)]).then(i.bind(i,8776)),Promise.all([i.e(233),i.e(504)]).then(i.bind(i,8504))]);this.THREE={Scene:e,PerspectiveCamera:t,WebGLRenderer:n,AmbientLight:a,DirectionalLight:s,Group:o,MeshStandardMaterial:r,Box3:l,Vector3:c},this.SVGLoader=d,this.init(),this.scene&&this.renderer&&this.$refs.container.clientWidth>0&&(this.createLogoFromSVG(),this.animate())}),window.addEventListener("resize",this.onWindowResize)},beforeUnmount(){window.removeEventListener("resize",this.onWindowResize),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.disposeThreeObjects(),this.renderer&&(this.renderer.dispose(),this.renderer.domElement&&this.renderer.domElement.parentNode&&this.renderer.domElement.parentNode.removeChild(this.renderer.domElement))},methods:{init(){if(!this.THREE)return;const e=this.$refs.container;if(!e||0===e.clientWidth||0===e.clientHeight)return;const t=new this.THREE.Scene;this.scene=(0,J.IG)(t);const i=e.clientWidth/e.clientHeight,n=new this.THREE.PerspectiveCamera(45,i,.1,5e3);this.camera=(0,J.IG)(n);try{const t=new this.THREE.WebGLRenderer({antialias:!0,alpha:!0});t.setSize(e.clientWidth,e.clientHeight),t.setPixelRatio(window.devicePixelRatio),e.appendChild(t.domElement),this.renderer=(0,J.IG)(t)}catch(o){return void console.error("Error WebGLRenderer:",o)}const a=new this.THREE.AmbientLight(16777215,1.2);this.scene.add(a);const s=new this.THREE.DirectionalLight(16777215,1);s.position.set(20,30,20),this.scene.add(s)},async createLogoFromSVG(){if(!this.scene||!this.$refs.container||0===this.$refs.container.clientWidth||!this.THREE||!this.SVGLoader)return;const{ExtrudeGeometry:e,Mesh:t,DoubleSide:n}=await Promise.all([i.e(233),i.e(504)]).then(i.bind(i,8776)),a=new this.SVGLoader,s=a.parse(this.svgMarkup),o=new this.THREE.Group,r=new this.THREE.MeshStandardMaterial({color:15527148,metalness:.05,roughness:.8,side:n}),l={steps:1,depth:25,bevelEnabled:!0,bevelThickness:.7,bevelSize:.7,bevelOffset:0,bevelSegments:2};s.paths.forEach(i=>{const n=this.SVGLoader.createShapes(i);n.forEach(i=>{const n=new e(i,l),a=new t(n,r);o.add(a)})});const c=(new this.THREE.Box3).setFromObject(o),d=c.getCenter(new this.THREE.Vector3);o.position.sub(d),o.rotation.x=Math.PI,o.scale.set(10,10,10),this.logoGroup=(0,J.IG)(o),this.scene.add(this.logoGroup);const u=(new this.THREE.Box3).setFromObject(this.logoGroup),p=u.getSize(new this.THREE.Vector3),h=u.getCenter(new this.THREE.Vector3);if(this.camera){const e=Math.max(p.x,p.y),t=this.camera.fov*(Math.PI/180);this.baseCameraZ=e/(2*Math.tan(t/2))*1.3,this.baseCameraZ=Math.max(this.baseCameraZ,1.5*p.z),!isNaN(this.baseCameraZ)&&isFinite(this.baseCameraZ)||(this.baseCameraZ=200),this.camera.position.set(h.x,h.y,this.baseCameraZ),this.camera.lookAt(h)}},animate(){this.animationFrameId=requestAnimationFrame(this.animate);const e=.00115*Date.now();if(this.logoGroup&&this.camera&&this.baseCameraZ>0){this.logoGroup.rotation.y+=.006,this.logoGroup.rotation.x=Math.PI+Math.sin(1.5*e)*(Math.PI/32);const t=.1,i=(1+Math.cos(e))/2;this.camera.position.z=this.baseCameraZ-i*this.baseCameraZ*t}this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)},onWindowResize(){const e=this.$refs.container;e&&0!==e.clientWidth&&0!==e.clientHeight&&(this.camera&&(this.camera.aspect=e.clientWidth/e.clientHeight,this.camera.updateProjectionMatrix()),this.renderer&&this.renderer.setSize(e.clientWidth,e.clientHeight))},disposeThreeObjects(){this.logoGroup&&(this.logoGroup.traverse(e=>{e.isMesh&&(e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(e=>e.dispose()):e.material.dispose()))}),this.scene&&this.logoGroup.parent===this.scene&&this.scene.remove(this.logoGroup)),this.logoGroup=null}}};const te=(0,_.A)(ee,[["render",Y],["__scopeId","data-v-68c1e10a"]]);var ie=te,ne={name:"LandingPage",components:{ThreeDLogo:ie},data(){return{installPromptEvent:null,isPWAInstalled:!1,notificationsEnabled:!1,pwaMessage:""}},computed:{shouldShowInstallButton(){return!this.isPWAInstalled},shouldShowNotifyButton(){return this.isPWAInstalled&&!this.notificationsEnabled},shouldShowEnterButton(){return this.isPWAInstalled&&this.notificationsEnabled},canAccessApp(){return this.isPWAInstalled&&this.notificationsEnabled}},methods:{checkPWAStatus(){const e=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone;e&&(this.isPWAInstalled=!0)},async checkNotificationStatus(){try{const[e,t]=await Promise.all([N["default"].getNotificationPermission(),N["default"].isPushNotificationsEnabled()]);this.notificationsEnabled="granted"===e&&t}catch(e){console.error("Error al verificar estado de notificaciones:",{error:e,message:e.message,code:e.code}),this.notificationsEnabled=!1}},performInitialRedirectLogic(){this.isPWAInstalled?this.notificationsEnabled?this.goToApp():this.pwaMessage="¬°Bienvenido de nuevo! Considera activar las notificaciones.":this.pwaMessage="Disfruta la experiencia completa instalando nuestra app."},async promptPWAInstall(){if(!this.installPromptEvent)return this.pwaMessage="Para instalar en tu dispositivo:",void(navigator.userAgent.includes("iPhone")||navigator.userAgent.includes("iPad")?this.pwaMessage+=" Toca el icono 'Compartir' y selecciona 'A√±adir a pantalla de inicio'":navigator.userAgent.includes("Android")?this.pwaMessage+=" Ve al men√∫ del navegador y selecciona 'A√±adir a pantalla de inicio' o 'Instalar app'":this.pwaMessage+=" Busca la opci√≥n 'Instalar' en el men√∫ de tu navegador o en la barra de direcciones");try{this.pwaMessage="Preparando instalaci√≥n...",this.installPromptEvent.prompt();const{outcome:e}=await this.installPromptEvent.userChoice;this.pwaMessage="accepted"===e?"¬°Instalando app! Espera un momento...":"Instalaci√≥n cancelada. Puedes intentarlo m√°s tarde.","accepted"===e&&setTimeout(()=>{this.checkPWAStatus()},1e3),this.installPromptEvent=null}catch(e){console.error("Error durante la instalaci√≥n:",e),this.pwaMessage="Hubo un problema durante la instalaci√≥n. Intenta usar el men√∫ de tu navegador."}},async enableNotifications(){this.pwaMessage="Solicitando permiso para notificaciones...";try{const e=await N["default"].isPushNotificationsEnabled();if(e)return this.notificationsEnabled=!0,this.pwaMessage="¬°Las notificaciones ya est√°n activadas!",void(this.isPWAInstalled&&this.goToApp());const t=await N["default"].requestPermission();t.success?(this.notificationsEnabled=!0,this.pwaMessage="¬°Notificaciones activadas con √©xito!",this.isPWAInstalled&&this.goToApp()):this.pwaMessage=t.userDenied?"Permisos denegados. Puedes habilitarlos desde configuraci√≥n del navegador.":"Error al activar notificaciones. Int√©ntalo de nuevo."}catch(e){console.error("Error al activar notificaciones:",e),this.pwaMessage="Hubo un problema al activar las notificaciones."}},goToApp(){const e=localStorage.getItem("energyAppPresentationSeen");e?this.$router.push("/home"):this.$router.push("/presentacion")}},async mounted(){this.checkPWAStatus(),await this.checkNotificationStatus(),this.performInitialRedirectLogic(),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.installPromptEvent=e,this.isPWAInstalled=!1}),window.addEventListener("appinstalled",()=>{this.isPWAInstalled=!0,this.installPromptEvent=null,this.pwaMessage="¬°App instalada! Preparando todo...",localStorage.removeItem("energyAppPresentationSeen"),this.$router.push("/presentacion")})}};const ae=(0,_.A)(ne,[["render",Z],["__scopeId","data-v-f60a1e00"]]);var se=ae;const oe={class:"presentation-page"};function re(e,t,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",oe,[t[1]||(t[1]=(0,a.Lk)("h2",null,"¬°Gracias por instalar la App Energy!",-1)),t[2]||(t[2]=(0,a.Lk)("p",null,"Prep√°rate para una experiencia √∫nica.",-1)),(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.goToHome&&o.goToHome(...e)),class:"btn btn-primary"}," Continuar a la App ")])}var le={name:"PresentationView",methods:{goToHome(){localStorage.setItem("energyAppPresentationSeen","true"),this.$router.push("/home")}}};const ce=(0,_.A)(le,[["render",re],["__scopeId","data-v-019cc1f9"]]);var de=ce;const ue={class:"content-container"},pe={class:"back-to-landing"};function he(e,t,i,n,s,r){const l=(0,a.g2)("HeaderComponent"),c=(0,a.g2)("DiscoPresentation"),d=(0,a.g2)("SpotifyPlaylist"),u=(0,a.g2)("DistanceCounter"),p=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(l),(0,a.Lk)("div",{class:"home-page",style:(0,o.Tr)(r.homePageStyle)},[(0,a.Lk)("div",ue,[(0,a.bF)(c,{class:"content-card"}),(0,a.bF)(d,{class:"content-card"}),(0,a.bF)(u,{class:"content-card"})]),(0,a.Lk)("p",pe,[(0,a.bF)(p,{to:"/"},{default:(0,a.k6)(()=>t[0]||(t[0]=[(0,a.eW)("Volver a la Landing")])),_:1,__:[0]})])],4)],64)}const ge={class:"app-header"},me={class:"header-content"};function fe(e,t,i,n,s,o){const r=(0,a.g2)("SocialButtons");return(0,a.uX)(),(0,a.CE)("header",ge,[(0,a.Lk)("div",me,[t[0]||(t[0]=(0,a.Lk)("div",{class:"header-left-placeholder"},null,-1)),t[1]||(t[1]=(0,a.Lk)("div",{class:"logo-container"},[(0,a.Lk)("img",{src:"/img/ModernIcon.svg",alt:"Energy Logo",class:"logo"})],-1)),(0,a.bF)(r,{class:"header-social-links"})])])}const ve={class:"social-buttons"};function be(e,t,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",ve,t[0]||(t[0]=[(0,a.Lk)("a",{href:"https://www.instagram.com/energydisco/?hl=es",target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram"},[(0,a.Lk)("img",{src:"/img/icons/instagram.svg",alt:"Instagram",class:"social-icon"})],-1),(0,a.Lk)("a",{href:"https://www.facebook.com/p/Energy-Cangas-100051459441656/?locale=es_ES",target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook"},[(0,a.Lk)("img",{src:"/img/icons/facebook.svg",alt:"Facebook",class:"social-icon"})],-1)]))}var ke={name:"SocialButtons"};const Ee=(0,_.A)(ke,[["render",be],["__scopeId","data-v-61196cdc"]]);var ye=Ee,we={name:"HeaderComponent",components:{SocialButtons:ye}};const Ce=(0,_.A)(we,[["render",fe],["__scopeId","data-v-eb68a94a"]]);var Se=Ce;const Le={class:"disco-presentation"};function Ie(e,t,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",Le,t[0]||(t[0]=[(0,a.Fv)('<div class="hero-title-container" data-v-6b925258><span class="hero-title-script" data-v-6b925258>La leyenda de</span><div class="hero-title-main" data-v-6b925258>ENERGY</div><div class="hero-title-underline" data-v-6b925258></div></div><p data-v-6b925258> Nadie conoce la f√≥rmula exacta para forjar un mito. Quiz√°s sea una mezcla de momentos fortuitos, esfuerzo incansable y una visi√≥n que desaf√≠a el tiempo. Desde su nacimiento en <strong data-v-6b925258>2005</strong>, Energy no solo se ha erigido como el epicentro de la noche, sino, para muchos, en la <strong data-v-6b925258>aut√©ntica meca de los cangueses</strong>. </p><p data-v-6b925258> M√°s que un discoteca, somos un santuario para quienes buscan sentir la libertad en estado puro, la energ√≠a vibrante de una experiencia que redefine la noche. Aqu√≠, cada rinc√≥n respira vanguardia, desde nuestra iluminaci√≥n inmersiva hasta un sistema de sonido que no solo escuchas, sino que sientes en el alma. </p><p data-v-6b925258> La banda sonora de esta traves√≠a es una selecta y potente fusi√≥n de <strong data-v-6b925258>oro para tus o√≠dos</strong>, orquestada por DJs residentes e invitados, art√≠fices de noches que se graban en la memoria. </p><div class="icon-container" data-v-6b925258><span class="icon" data-v-6b925258>üé∂</span><span class="icon" data-v-6b925258>üí°</span><span class="icon" data-v-6b925258>üîä</span></div>',5)]))}var Pe={name:"DiscoPresentation"};const Ae=(0,_.A)(Pe,[["render",Ie],["__scopeId","data-v-6b925258"]]);var Me=Ae;const We={class:"spotify-playlist"};function Te(e,t,i,n,s,o){return(0,a.uX)(),(0,a.CE)("div",We,t[0]||(t[0]=[(0,a.Lk)("h2",null,"Nuestra Playlist",-1),(0,a.Lk)("p",null,"¬°Siente la vibra de Energy donde sea! S√≠guenos en Spotify:",-1),(0,a.Lk)("div",{class:"spotify-embed-container"},[(0,a.Lk)("iframe",{style:{"border-radius":"12px"},src:"https://open.spotify.com/embed/playlist/2bYojgQLi28sM5BUZSeveY?utm_source=generator",width:"100%",height:"415",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy"})],-1),(0,a.Lk)("a",{href:"https://open.spotify.com/playlist/2bYojgQLi28sM5BUZSeveY?si=fgon7MHdTDaCLkmh6nVrcQ&pi=az6bAW7gRoWRg",target:"_blank",rel:"noopener noreferrer",class:"spotify-button"}," Abrir en Spotify ",-1)]))}var Ne={name:"SpotifyPlaylist"};const ze=(0,_.A)(Ne,[["render",Te],["__scopeId","data-v-1a45fb5b"]]);var _e=ze;const Oe={class:"distance-counter"},Re={key:0,class:"map-container"},xe=["src"],Ge={key:1,class:"status-message"},Fe={key:2,class:"status-message error-message"},He={key:3,class:"distance-display"},qe={class:"distance-info"},De={class:"distance-value"},Xe={class:"distance-unit"},Qe={key:4,class:"status-message"},Be={class:"actions-container"},Ve=["disabled"],$e={key:0},je={key:1},Ue=["href"];function Ze(e,t,i,n,s,r){return(0,a.uX)(),(0,a.CE)("div",Oe,[t[4]||(t[4]=(0,a.Lk)("h2",null,"¬øQu√© tan cerca est√°s?",-1)),s.discoCoords.latitude&&s.discoCoords.longitude?((0,a.uX)(),(0,a.CE)("div",Re,[(0,a.Lk)("iframe",{src:r.googleMapsEmbedUrl,width:"100%",height:"300",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,xe)])):(0,a.Q3)("",!0),s.loading&&!s.distance?((0,a.uX)(),(0,a.CE)("div",Ge,t[1]||(t[1]=[(0,a.eW)(" Calculando tu ubicaci√≥n... "),(0,a.Lk)("span",{class:"loader"},null,-1)]))):(0,a.Q3)("",!0),s.error?((0,a.uX)(),(0,a.CE)("div",Fe,(0,o.v_)(s.error),1)):(0,a.Q3)("",!0),null===s.distance||s.error?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",He,[(0,a.Lk)("p",qe,[t[2]||(t[2]=(0,a.eW)(" Est√°s a ")),(0,a.Lk)("span",De,(0,o.v_)(r.formattedDistance),1),(0,a.Lk)("span",Xe,(0,o.v_)(r.distanceUnit),1),t[3]||(t[3]=(0,a.eW)(" de Energy Club "))])])),s.loading||null!==s.distance||s.error||s.initialMessageHidden?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",Qe," Permite el acceso a tu ubicaci√≥n para calcular la distancia. ")),(0,a.Lk)("div",Be,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.getLocationAndHideInitialMessage&&r.getLocationAndHideInitialMessage(...e)),class:"action-button",disabled:s.loading,title:"Actualizar tu ubicaci√≥n y calcular distancia"},[s.loading&&!s.distance?((0,a.uX)(),(0,a.CE)("span",$e,"Calculando...")):((0,a.uX)(),(0,a.CE)("span",je,"üìç Calcular Distancia"))],8,Ve),s.discoCoords.latitude&&s.discoCoords.longitude?((0,a.uX)(),(0,a.CE)("a",{key:0,href:r.directionsUrl,target:"_blank",rel:"noopener noreferrer",class:"action-button directions-button",title:"Obtener ruta en Google Maps"}," üó∫Ô∏è C√≥mo llegar ",8,Ue)):(0,a.Q3)("",!0)])])}var Ke={name:"DistanceCounter",data(){return{discoCoords:{latitude:43.176861,longitude:-6.549333},discoAddressForMapQuery:"Energy Disco, C. Su√°rez Cant√≥n, 33800 Cangas del Narcea, Asturias",userCoords:null,distance:null,loading:!1,error:null,initialMessageHidden:!1}},computed:{formattedDistance(){return null===this.distance?"":this.distance<1e3?this.distance.toFixed(0):(this.distance/1e3).toFixed(1)},distanceUnit(){return null===this.distance?"":this.distance<1e3?"metros":"kil√≥metros"},googleMapsEmbedUrl(){const e=this.discoCoords.latitude,t=this.discoCoords.longitude,i=this.discoAddressForMapQuery?encodeURIComponent(this.discoAddressForMapQuery):`${e},${t}`;return`https://maps.google.com/maps?q=${i}&t=&z=15&ie=UTF8&iwloc=&output=embed`},directionsUrl(){const e=this.discoAddressForMapQuery?encodeURIComponent(this.discoAddressForMapQuery):`${this.discoCoords.latitude},${this.discoCoords.longitude}`;let t=`https://www.google.com/maps/dir/?api=1&destination=${e}`;return this.userCoords&&(t+=`&origin=${this.userCoords.latitude},${this.userCoords.longitude}`),t+="&travelmode=driving",t}},methods:{getLocationAndHideInitialMessage(){this.initialMessageHidden=!0,this.getLocation()},getLocation(){this.loading=!0,this.error=null,this.distance=null,navigator.geolocation?navigator.geolocation.getCurrentPosition(this.handleSuccess,this.handleError,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(this.error="La geolocalizaci√≥n no es soportada por tu navegador.",this.loading=!1)},handleSuccess(e){this.userCoords={latitude:e.coords.latitude,longitude:e.coords.longitude},this.calculateDistance(),this.loading=!1},handleError(e){switch(e.code){case e.PERMISSION_DENIED:this.error="Permiso de ubicaci√≥n denegado.";break;case e.POSITION_UNAVAILABLE:this.error="Informaci√≥n de ubicaci√≥n no disponible.";break;case e.TIMEOUT:this.error="Se agot√≥ el tiempo para obtener la ubicaci√≥n.";break;default:this.error="Error al obtener la ubicaci√≥n.";break}this.loading=!1},calculateDistance(){if(!this.userCoords||!this.discoCoords.latitude||!this.discoCoords.longitude)return void(this.error="Faltan coordenadas para calcular la distancia.");const e=6371e3,t=this.userCoords.latitude*Math.PI/180,i=this.discoCoords.latitude*Math.PI/180,n=(this.discoCoords.latitude-this.userCoords.latitude)*Math.PI/180,a=(this.discoCoords.longitude-this.userCoords.longitude)*Math.PI/180,s=Math.sin(n/2)*Math.sin(n/2)+Math.cos(t)*Math.cos(i)*Math.sin(a/2)*Math.sin(a/2),o=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));this.distance=e*o}}};const Ye=(0,_.A)(Ke,[["render",Ze],["__scopeId","data-v-3a1e33e1"]]);var Je=Ye,et={name:"HomeView",components:{HeaderComponent:Se,DiscoPresentation:Me,SpotifyPlaylist:_e,DistanceCounter:Je},computed:{homePageStyle(){const e="",t="Fondo.webp";let i=`${e}${t}`;return i=e&&!e.endsWith("/")?`${e}/${t}`:`${e||"/"}${t}`,i=i.replace(/\/\//g,"/"),{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}}}};const tt=(0,_.A)(et,[["render",he],["__scopeId","data-v-4daeedc8"]]);var it=tt;const nt=[{path:"/",name:"Landing",component:se},{path:"/presentacion",name:"Presentation",component:de},{path:"/home",name:"Home",component:it}],at=(0,H.aE)({history:(0,H.Bt)(),routes:nt});var st=at,ot=i(4458);(0,ot.k)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const rt=(0,n.Ef)(F);rt.use(st),rt.mount("#app"),N["default"].isSetupComplete()&&N["default"].init().then(()=>{N["default"].setupForegroundMessages(),console.log("üîî Servicio de notificaciones inicializado")})},4338:function(e,t,i){i.r(t),i.d(t,{default:function(){return r}});const n={apiKey:"AIzaSyBn2lwPfqGfPs08oTqbAq2LqlhPcS46jdM",authDomain:"energy-app-d6293.firebaseapp.com",projectId:"energy-app-d6293",storageBucket:"energy-app-d6293.firebasestorage.app",messagingSenderId:"478937638379",appId:"1:478937638379:web:2f88b6d326ead0d19665ae",measurementId:"G-QRH15QWGFQ"};let a=null;const s=async()=>{if(!a){const{initializeApp:e}=await Promise.all([i.e(708),i.e(504)]).then(i.bind(i,6400));a=e(n)}return a};s();class o{constructor(){this.messaging=null,this.token=null,this.initialized=!1,this.vapidKey="BJbqZGiIYyyU1MvKmejZFgsAluhSLJE164pHT_mwVzWGzl707SwK_h01W7OUD5R0yLvUxElwtoHNP7wej3-bwQU",this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,this.isAndroid=/Android/.test(navigator.userAgent),this.STORAGE_KEYS={PERMISSION_REQUESTED:"notification-permission-requested",TOKEN:"fcm-token",SETUP_COMPLETE:"notifications-setup-complete"}}isSupported(){return"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window}async init(){if(this.initialized)return!0;try{if(!this.isSupported())throw new Error("Las notificaciones no son soportadas en este dispositivo/navegador");if(this.isIOS)return this.initialized=!0,!0;const e=await s(),{getMessaging:t}=await Promise.all([i.e(708),i.e(504)]).then(i.bind(i,4386));return this.messaging=t(e),this.initialized=!0,!0}catch(e){return console.error("Error inicializando notificaciones:",e),!1}}hasPermissionBeenRequested(){return"true"===localStorage.getItem(this.STORAGE_KEYS.PERMISSION_REQUESTED)}isSetupComplete(){return"true"===localStorage.getItem(this.STORAGE_KEYS.SETUP_COMPLETE)&&"granted"===Notification.permission}getSavedToken(){return localStorage.getItem(this.STORAGE_KEYS.TOKEN)}saveToken(e){e&&(localStorage.setItem(this.STORAGE_KEYS.TOKEN,e),this.token=e,console.log("‚úÖ Token FCM guardado:",e))}markSetupComplete(){localStorage.setItem(this.STORAGE_KEYS.SETUP_COMPLETE,"true"),localStorage.setItem(this.STORAGE_KEYS.PERMISSION_REQUESTED,"true")}async requestPermission(){try{if(localStorage.setItem(this.STORAGE_KEYS.PERMISSION_REQUESTED,"true"),await this.init(),!this.isSupported())return{success:!1,error:"Las notificaciones no son soportadas en este dispositivo"};const e=await Notification.requestPermission();return"granted"===e?(this.token=await this.getOrGenerateToken(),this.saveToken(this.token),await this.setupForegroundMessages(),this.markSetupComplete(),setTimeout(()=>{this.showWelcomeNotification()},1e3),{success:!0,permission:"granted",token:this.token}):{success:!1,permission:e,userDenied:"denied"===e}}catch(e){return console.error("Error al solicitar permisos:",e),{success:!1,error:e.message}}}async getOrGenerateToken(){if(this.isIOS)return"ios-device-token";try{const{getToken:e}=await Promise.all([i.e(708),i.e(504)]).then(i.bind(i,4386));return await e(this.messaging,{vapidKey:this.vapidKey})}catch(e){return console.error("Error al obtener token:",e),null}}async setupForegroundMessages(){if(!this.isIOS&&this.messaging)try{const{onMessage:e}=await Promise.all([i.e(708),i.e(504)]).then(i.bind(i,4386));e(this.messaging,e=>{if(e.notification){const{title:t,body:i}=e.notification;this.showLocalNotification(t,i)}})}catch(e){console.error("Error setting up foreground messages:",e)}}showLocalNotification(e,t){if(!("Notification"in window)||"granted"!==Notification.permission)return;const i={body:t,icon:"/img/ModernIcon.svg",badge:"/img/ModernIcon.svg",tag:"energy-club",requireInteraction:!1,silent:!1,data:{dateOfArrival:Date.now(),primaryKey:1}};(this.isIOS||this.isAndroid)&&(i.vibrate=[200,100,200]);const n=new Notification(e,i),a=this.isIOS?3e3:4e3;return setTimeout(()=>n.close(),a),n}async showWelcomeNotification(){return this.showLocalNotification("üéâ ¬°Notificaciones activadas!","Ahora recibir√°s notificaciones sobre eventos y promociones exclusivas.")}async getNotificationPermission(){return"Notification"in window?Notification.permission:"default"}async isPushNotificationsEnabled(){return this.isIOS?"granted"===Notification.permission:"granted"===Notification.permission&&!!this.token}onSubscriptionChange(e){console.log("Subscription change callback registered",e)}}var r=new o}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,i),s.exports}i.m=e,function(){var e=[];i.O=function(t,n,a,s){if(!n){var o=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],s=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||o>=s)&&Object.keys(i.O).every(function(e){return i.O[e](n[l])})?n.splice(l--,1):(r=!1,s<o&&(o=s));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,a,s]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce(function(t,n){return i.f[n](e,t),t},[]))}}(),function(){i.u=function(e){return"js/"+{233:"three",708:"firebase"}[e]+"."+{233:"bb60eff9",708:"b4fe301d"}[e]+".js"}}(),function(){i.miniCssF=function(e){}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="energy-app:";i.l=function(n,a,s,o){if(e[n])e[n].push(a);else{var r,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+s){r=u;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.setAttribute("data-webpack",t+s),r.src=n),e[n]=[a];var p=function(t,i){r.onerror=r.onload=null,clearTimeout(h);var a=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach(function(e){return e(i)}),t)return t(i)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){i.p=""}(),function(){var e={524:0};i.f.j=function(t,n){var a=i.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(function(i,n){a=e[t]=[i,n]});n.push(a[2]=s);var o=i.p+i.u(t),r=new Error,l=function(n){if(i.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",r.name="ChunkLoadError",r.type=s,r.request=o,a[1](r)}};i.l(o,l,"chunk-"+t,t)}},i.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,s,o=n[0],r=n[1],l=n[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(a in r)i.o(r,a)&&(i.m[a]=r[a]);if(l)var d=l(i)}for(t&&t(n);c<o.length;c++)s=o[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(d)},n=self["webpackChunkenergy_app"]=self["webpackChunkenergy_app"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=i.O(void 0,[504],function(){return i(2980)});n=i.O(n)})();